# コンピュータシステムの理論と実装

## 概要

### 日付

2024/2/14~

### 目的

- CPUの造り方を読んでもう少し低レイヤを勉強したくなったため
- CPU以外のコンピュータの構成要素と原理を一通り学ぶ

### 学んだこと

- ＊＊＊＊

### 今後の興味

- ＊＊＊＊

### 使用したコード

[動作確認プログラム](computer_science/how_to_create_cpu/arduino)

## 読書メモ

### Chap.1 ブール理論

- ブール代数
  - バイナリのような２値で示したもの。ハードウェアアーキテクチャの設計はここから始まる
- ブール関数
  - すべてのブール関数はNandを持ちて表すことができる
    - 実装するためには理論ゲートを用いるが、どのようにしてブール関数を実現してるかまでは追わない
      - そこから先は物理屋さんの仕事
- ハードウェア設計はHDL（ハードウェア記述言語を用いる
- 以下の基本的な理論ゲートを作成
- 

### Chap.2 ブール算術

- 2の補数
  - ビットをすべて反転させ、１を加えると完成
  - 最も大きい桁が正負を表す
- 半加算器、全加算器、インクリメンタ、ALU（算術論理演算機）を実装
  - それぞれ実装完了
  - ALU作成時に躓いた点
    - 配列から一部むき出す場合は`b[0..15]=false`のように記述する。また、0, 1は小文字の`true/false`で記す
    - 多ビット配列の中から一部を取り出して処理する場合、出力時に分割する必要があり、入力時に分割するとエラーを吐き出す

    ```C
    // OK
    Mux16(a=h3, b=nout, sel=no, out=out, out[0..7]=out0to7, out[8..15]=out8to15, out[15]=ng);

    Or8Way(in=out0to7, out=zr0to7); // if (out == 0) zr = 1, else zr = 0
    Or8Way(in=out8to15, out=zr8to15);

    // ERROR
    Mux16(a=h3, b=nout, sel=no, out=out, out[0..7]=out0to7, out[8..15]=out8to15, out[15]=ng);
    
    Or8Way(in=out[0..7], out=zr0to7); // if (out == 0) zr = 1, else zr = 0
    Or8Way(in=out[8..15], out=zr8to15);
    ```

  ### Chap.3 ブール演算
  